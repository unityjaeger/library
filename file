local file = {}
file.__index = file

local HttpService = game:GetService("HttpService")

function file.Folder(name)
    local self = setmetatable({}, file)
    if not isfolder(name) then
        makefolder(name)
    end

    self.Folder = name
    self.Files = {}

    function self:Get(name, default)
        local path = self.Folder.."/"..name..".json"
        if not isfile(path) then
            writefile(path, HttpService:JSONEncode(default))
        end

        table.insert(self.Files, name..".json")
        return setmetatable({Data = HttpService:JSONDecode(readfile(path))}, self)
    end

    return self
end

return file
