local file = {}
file.__index = file

local HttpService = game:GetService("HttpService")

function file.Folder(name)
    local self = setmetatable({}, file)
    if not isfolder(name) then
        makefolder(name)
    end

    self.Folder = name
    self.Files = {}

    function self:Get(name, default)
        local path = self.Folder.."/"..name..".json"
        if not isfile(path) then
            writefile(path, default and HttpService:JSONEncode(default) or {})
        end

        table.insert(self.Files, name..".json")
        local self2 = setmetatable({}, self)
        self2.Data = HttpService:JSONDecode(readfile(path));
        function self2:Save(new)
            self2.Data = new
            writefile(path, HttpService:JSONEncode(new))
        end

        return self2
    end

    return self
end

return file
